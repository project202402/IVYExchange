(this["webpackJsonpparaswap-dapp"]=this["webpackJsonpparaswap-dapp"]||[]).push([[24],{2208:function(e,t,n){"use strict";n.r(t),n.d(t,"isGenericSelectTokenModalProps",(function(){return z})),n.d(t,"onSelectTokenFactoryMap",(function(){return X})),n.d(t,"isOnSelectTokenFactoryMap",(function(){return Y})),n.d(t,"SelectTokenModal",(function(){return te}));var o=n(2),r=n(15),a=n(96),c=n(70),l=n(6),i=n(86),s=n(1708),d=n(1),u=n(75),b=n(71),j=n(67),O=n.n(j),k=n(11),p=n(55),f=n(39),v=n(1017),m=n(483),w=n(104),y=n(137),T=n(409),P=n(29),S=n(585),h=n(10),C=n(335),x=n(91),g=n(44),M=n(552),R=n(20),F=n.n(R),B=n(135),D=n(118),L=n(249),N=n(0);function H(e){return"tokenRow"===e.type}var K=Object(a.a)({contentClassName:{overflow:"hidden"}},{name:"FixTableScroll"}),I=function(e){var t=function(e,t){var n,r=Object(c.a)().t,a=Object(d.useMemo)((function(){return[{key:"token",title:r("column.token")},{key:"balance",title:r("column.balance")},{key:"pspValue",title:"PSP Value"}]}),[r]),i=Object(m.c)(),s=Object(w.h)().data,u=Object(B.c)().networkId,b=Object(x.c)(u),j=Object(M.b)()||{},O=j.sPSP2PSPbalance,k=j.sumPSP,p=null!==(n=b&&(null===s||void 0===s?void 0:s[b.address.toLowerCase()]))&&void 0!==n?n:{price:.031},f=Object(d.useCallback)((function(e){var t,n=(null===O||void 0===O||null===(t=O[e.address])||void 0===t?void 0:t.toString(10))||e.balance,r=p.price&&n?new F.a(p.price).multipliedBy(n).dividedBy(Math.pow(10,+e.decimals)).toNumber():void 0;return Object(o.a)(Object(o.a)({},e),{},{usdBalance:r,pspBalance:n})}),[null===p||void 0===p?void 0:p.price,O]),v=Object(T.c)(),y=Object(d.useMemo)((function(){return(null===t||void 0===t?void 0:t(v))||v}),[v,t]),C=Object(S.c)({overridingTokensList:y,tokenFilter:"",extendRow:f}).tokenRows,g=Object(l.b)(),R=Object(P.c)().closeModal,D=Object(d.useCallback)((function(t){g(e(t)),R()}),[R,g,e]),L=Object(d.useMemo)((function(){return v.find((function(e){return e.address.toLowerCase()!==(null===b||void 0===b?void 0:b.address.toLowerCase())}))}),[b,v]),N=Object(d.useCallback)((function(e){if(H(e)){if(V(e.tokenRow))return;D(e.tokenRow.tokenRef)}else Object(h.assert)(L,"firstSpspToken not found"),D(L)}),[L,D]),K=Object(d.useMemo)((function(){if(k&&(null===p||void 0===p?void 0:p.price)&&(null===b||void 0===b?void 0:b.decimals)){var e=k.toString(10);return{usdBalance:new F.a(p.price).multipliedBy(k||0).dividedBy(Math.pow(10,+b.decimals)).toNumber(),pspBalance:e}}}),[null===p||void 0===p?void 0:p.price,null===b||void 0===b?void 0:b.decimals,k]),I=Object(d.useMemo)((function(){var e={type:"allsPSPTokensRow",key:"allsPSPTokensRow",tokenRow:void 0,extraData:K};return C.reduce((function(t,n){var o={key:n.address,tokenRow:n,extraData:{pspBalance:n.pspBalance,usdBalance:n.usdBalance},type:"tokenRow"};return V(n)&&(o.rowClassName="non-clickable",o.isSPSP=!0,t.sPSPsCounted||(t.sPSPsCounted=!0,t.allRows.push(e))),(!o.isSPSP||o.extraData.pspBalance&&+o.extraData.pspBalance>0)&&t.allRows.push(o),t}),{sPSPsCounted:!1,allRows:[]}).allRows}),[C,K]);return{classes:{tableContainer:i.root},stickyHeader:!0,columns:a,rows:I,onRowClick:N,headerCellRenderer:J,bodyCellRenderer:A}}(e.dispatchTokenSelect,e.transformTokens),n=K().contentClassName;return Object(N.jsx)(i.b,{contentClassName:n,title:"Select a token...",height:445,children:Object(N.jsx)(m.b,{tableProps:t,footer:null})})},A=function(e){var t=e.columnKey,n=e.row;if(n){if("token"===t)return H(n)?Object(N.jsx)(v.b,{isSPSP:n.isSPSP,address:n.tokenRow.address,img:n.tokenRow.img,symbol:n.tokenRow.symbol,name:n.tokenRow.name}):Object(N.jsx)("div",{style:{position:"relative",height:"100%"},children:Object(N.jsx)(g.a,{container:!0,style:{position:"absolute",width:"200px",height:"100%"},justify:"center",alignItems:"center",children:Object(N.jsx)(v.b,{address:k.j,img:C.a,symbol:"sPSPs",name:"Staked PSP on all ParaSwapPools"})})});if("balance"===t&&H(n)){var o=n.tokenRow.balance||"0",r=Object(k.Kb)(o,Number(n.tokenRow.decimals)),a=Object(k.Hb)(Object(k.Jb)(r));return Object(N.jsx)(v.a,{balanceToDisplay:a,usdBalance:null})}if("pspValue"===t&&function(e){return"extraData"in e&&void 0!==e.extraData}(n)){var c,l=n.extraData.pspBalance||"0",i=Object(k.Kb)(l),s=Object(k.Hb)(Object(k.Jb)(i)),d=(null===(c=n.extraData.usdBalance)||void 0===c?void 0:c.toFixed(2))||null;return Object(N.jsx)(v.a,{balanceToDisplay:s,usdBalance:d})}}return Object(N.jsx)("span",{})},E={token:{textAlign:"left"},balance:{textAlign:"right"},pspValue:{textAlign:"right",paddingLeft:24,whiteSpace:"nowrap"}},J=function(e){return Object(N.jsx)("div",{style:E[e.key],children:e.title.toUpperCase()})};function V(e){return!!e.symbol&&/sPSP\d+/i.test(e.symbol)}var _=n(454),G=n(1020),U=n(26),W=n(219),q=n(242);function z(e){return!!e&&Object(k.eb)(e,"selectTokenFactoryKey")&&!!e.selectTokenFactoryKey}var Q={SelectTokenForNativePoolModal:function(){return Object(N.jsx)(I,{dispatchTokenSelect:y.k})},SelectToken1ForHybridPoolModal:function(){var e=Object(D.b)(),t=Object(L.c)("sePSP").balance,n=Object(d.useMemo)((function(){if(e){var n=Object(o.a)(Object(o.a)({},e),{},{balance:t,img:C.a});return function(e){return[e[0],n].concat(Object(f.a)(e.slice(1))).filter(k.ob)}}}),[t,e]);return Object(N.jsx)(I,{dispatchTokenSelect:y.i,transformTokens:n})},SelectETHOrWETHModal:function(){var e=function(){var e=Object(B.c)().networkId,t=Object(c.a)().t,n=Object(d.useMemo)((function(){return[{key:"asset",title:t("column.token"),width:250},{key:"amount",title:t("column.balance"),width:150}]}),[t]),r=Object(m.c)(),a=Object(w.d)(void 0,e),i=Object(q.a)(e),s=i.tokens,u=Object(W.c)(i.tokenAddresses,{refetchInterval:U.O},e).data,b=Object(d.useMemo)((function(){return s.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{balance:null===u||void 0===u?void 0:u[e.address.toLowerCase()]})}))}),[s,u]),j=Object(d.useMemo)((function(){return Object(k.U)(b,(function(e){return e.address.toLowerCase()}))}),[b]),O=Object(S.c)({overridingTokensList:b,tokenFilter:"",extendRow:a}).tokenRows,p=Object(l.b)(),f=Object(P.c)(),T=f.closeModal,C=f.goToPreviousModal,x=!!Object(_.a)("first_psp_stake"),g=Object(d.useCallback)((function(e){var t=j[e.address.toLowerCase()];Object(h.assert)(t,"No token for address "+e.address),x?(p(y.c.setHybridPoolToken2(t)),C("tradeFlow")):(p(Object(y.j)(t)),T())}),[T,p,C,x,j]);return{classes:{tableContainer:r.root},stickyHeader:!0,columns:n,rows:O,onRowClick:g,headerCellRenderer:G.b,bodyCellRenderer:v.c}}();return Object(N.jsx)(i.b,{title:"Select a token...",height:"auto",children:Object(N.jsx)(m.b,{tableProps:e,footer:null})})}},X={FillOrderTokenFrom:function(e,t){return function(n){var o={flow:{type:"fill_order",fillOrder:{arbitrarySwapDetails:{tokenFrom:n},orderHash:t.orderHash}}};e(Object(u.d)({modalType:"tradeFlow",modalProps:o}))}},SwapFormTokenFrom:function(e){return function(t,n){ne(t,"swap-from"),e(Object(b.k)(t)),(null===n||void 0===n?void 0:n.preventClosingModal)||e(Object(u.b)(null))}},SwapFormTokenTo:function(e){return function(t,n){ne(t,"swap-to"),e(Object(b.p)(t)),(null===n||void 0===n?void 0:n.preventClosingModal)||e(Object(u.b)(null))}},LimitOrderTokenFrom:function(e){return function(t,n){ne(t,"limitOrder-from"),e(Object(p.m)(t)),(null===n||void 0===n?void 0:n.preventClosingModal)||e(Object(u.b)(null))}},LimitOrderTokenTo:function(e){return function(t,n){ne(t,"limitOrder-to"),e(Object(p.n)(t)),(null===n||void 0===n?void 0:n.preventClosingModal)||e(Object(u.b)(null))}},OTCOrderTokenFrom:function(e){return function(t,n){ne(t,"OTCOrder-from"),e(Object(p.s)(t)),(null===n||void 0===n?void 0:n.preventClosingModal)||e(Object(u.b)(null))}},OTCOrderTokenTo:function(e){return function(t,n){ne(t,"OTCOrder-to"),e(Object(p.t)(t)),(null===n||void 0===n?void 0:n.preventClosingModal)||e(Object(u.b)(null))}}};function Y(e){return e in X}var Z=Object(r.a)(i.b)((function(e){return{backgroundColor:e.theme.custom.modal.tokenList.modalBackgroundColour}}),{name:"StyledGenericModal"}),$=Object(a.a)({body:{backgroundColor:"inherit"}},{name:"SelectTokenModalExtra"}),ee=function(e){var t=Object(c.a)().t,n=Object(l.b)(),o=e.excludeTokens,r=e.modalTitle,a=e.defaultTokenFilter,i=Object(d.useMemo)((function(){return e.extraDispatchProps?(0,X[e.selectTokenFactoryKey])(n,e.extraDispatchProps):(0,X[e.selectTokenFactoryKey])(n)}),[n,e.selectTokenFactoryKey,e.extraDispatchProps]),u=$().body;return Object(N.jsx)(Z,{height:"auto",title:r||t("limitOrder.fillOrder.selectToken.title"),bodyClassName:u,children:Object(N.jsx)(s.a,{defaultTokenFilter:a,excludeTokens:o,backButton:!0,onSelectToken:i})})},te=function(e){if("overriddingModal"in e){var t=Q[e.overriddingModal];return Object(N.jsx)(t,{})}return Object(N.jsx)(ee,Object(o.a)({},e))};function ne(e,t){var n="select-".concat(t,"-token");O.a.event({category:k.g.INTERACTION,action:n,label:e.symbol})}}}]);